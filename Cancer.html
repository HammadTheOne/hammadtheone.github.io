<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="icon" href="favicon.ico">

	<title>Cancer in Canada Visualization</title>
    
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="css/theme.css" rel="stylesheet">
	

</head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<a href="/" class="btn">Home</a>

<body background="assets/bgimage.png">
</body>
	
	
<div class="container homepage" role="main">
	<h1 class="intro-header animate">A Walkthrough of <span class="myname">Cancer Cases and Rates </span> over the past 2 decades in Canadian Provinces</h1>
	<div class="intro-body animate">
		 <h2>Background</h2>

<p><img src="assets/bgimage.png" alt="Logo" style="float:right;width:620px;height:814px;">Many different types of cancers exist, affecting different tissues and areas of the body. The risks for developing different cancers vary based on environmental, genetic, and sex factors. It's important to understand your risk for specific cancers, and undergo regular screening. In this visualization, we take you through the statistics for new cases of invasive cancers over the years. The data is published by Statistics Canada and publicly available from the Government of Canada.</h2>
	
<p id="occupation">Links to the GitHub repository for this project and the code, as well as the original dataset can be found below.</p>
	</div>

	<div class="links animate">
		<a href="https://github.com/HammadTheOne/EmissionsVisualization"><i class="fa fa-github-alt fa-2x" aria-hidden="true"></i></a>
		<a href="https://open.canada.ca/data/en/dataset/a1302774-b04c-4dc6-9b7e-7f827b8244ec
"><i class="fa fa-file-text fa-2x" aria-hidden="true"></i></a>


<h2>Interactive Map of Cancer Cases over the Years - Select a Cancer Type and Year to see the Cases</h2>

		<div class='tableauPlaceholder' id='viz1554319433559' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Bo&#47;Book1_15543193651800&#47;MapofCancerCasesandRatesinCanadianProvinces&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='path' value='views&#47;Book1_15543193651800&#47;MapofCancerCasesandRatesinCanadianProvinces?:embed=y&amp;:display_count=y&amp;publish=yes' /> <param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Bo&#47;Book1_15543193651800&#47;MapofCancerCasesandRatesinCanadianProvinces&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1554319433559');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>


	</div>	
        <div class="projects animate">
        <div class="projects-header">
            <h1>Project Code</h1>
        </div>
        
<hr class="projects-divider">

        </div>
        
        <button class="accordion">R</button>
	<div class="panel">
	<pre>
  	<code>
	#This is some terrible code for this project. It is not intended for reuse. Proceed at your own risk.
	
	#Using Plotly to create an interactive graph:

install.packages("plotly")

library(plotly)
library(tidyverse)

library(ggplot2)
library(ggpubr)
theme_set(theme_pubr())


p <- plot_ly(midwest, x = ~percollege, color = ~state, type = "box")


head(Cancer)
colnames(Cancer)


cancer_tibble <- as_tibble(Cancer)
cancer_tibble


cancer_loc <- cancer_tibble %>% select(1,2,4,5,7,8,14)


cancer_provinces <- filter(cancer_loc, GEO != "Canada" & GEO != "Canada excluding Quebec")

cancer_provinces <- filter(cancer_provinces, 
                           Characteristics == "Number of new cancer cases" | Characteristics == "Cancer incidence")

colnames(cancer_provinces)[which(names(cancer_provinces) == "Cancer Type")] <- "Cancer"

cancer_provinces_cases$GEO[cancer_provinces_cases$GEO == "Newfoundland and Labrador"]<- "Newfoundland"

df$est[df$b == 0] <- (df$a[df$b == 0] - 5)/2.533 

cancer_provinces <- filter(cancer_provinces, VALUE != "null")

cancer_provinces_cases <- filter(cancer_provinces, UOM != "Number")


cancer_provinces_cases_nototal <- filter(cancer_provinces_cases, Cancer != "Total, all primary sites of cancer")

cancer_provinces_cases_nototal <- filter(cancer_provinces_cases_nototal, REF_DATE == 2016)

write.csv(cancer_provinces, file = "cancer_provinces2.csv")

#Code for GGPlot Bar Graph

ggplot(cancer_provinces_cases_nototal, aes(x = GEO, y = VALUE))+
  geom_bar(
    aes(fill = Cancer), stat = "identity", color = "white",
    position = position_dodge(0.9)
  ) +
  ggtitle("Age Standardized Rates per 100,000 of Various Cancers in 2016")

#Code for Balloon Plot

ggballoonplot(cancer_provinces_cases_nototal, x = "GEO", y = "Cancer", size = "VALUE",
              fill = "VALUE", facet.by = "Sex",
              ggtheme = theme_bw()) +
  scale_fill_viridis_c(option = "C") +
  ggtitle("Frequency Table of Cancer Rates per 100,000 in 2016")
  


#Attempt at CirclePacking

# Load the library
library(circlepackeR)          
devtools::install_github("jeromefroe/circlepackeR")


data=data.frame(
  root=cancer_provinces_cases$REF_DATE,
  group=cancer_provinces_cases$GEO, 
  subgroup= cancer_provinces_cases$Cancer,
  subsubgroup=cancer_provinces_cases$Sex,
  value=cancer_provinces_cases$VALUE
)

install.packages("data.tree")
library(data.tree)
data$pathString <- paste("world", data$group, data$subgroup, data$subsubgroup, sep = "/")
population <- as.Node(data)
circlepackeR(population, size = "value")


		</code>
	</pre>
	</div>

        
            
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="js/quotecycler.js"></script>
<script src="js/accordian.js"></script>
</body>
</html>
